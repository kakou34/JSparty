<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CountDown Watch JS</title>
<link rel="stylesheet" href="style.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/js/tempusdominus-bootstrap-4.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/css/tempusdominus-bootstrap-4.min.css" />
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>

</head>

<body class="text-center" id="body">

  <div id="content">

    <div class="cover-container d-flex mx-auto p-5 flex-column">
        <main role="main" class="inner cover">
          <h1 class="cover-heading">Fireworks During Quarantine!</h1>
          <p class="lead">Choose the date and time for your Fireworks Festival!</p>
          <div class="row justify-content-center">
            <div class="col-sm-6">
                <div class="form-group">
                    <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                        <input id="myDate" type="text" class="form-control datetimepicker-input" data-target="#datetimepicker1"/>
                        <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                $(function () {
                    $('#datetimepicker1').datetimepicker();
                });
            </script>
        </div>
          <p class="lead" >
            <div onclick="setAlarm()" class="btn btn-lg btn-warning">Set time</div>
          </p>

          <p id="start" class="lead" style="display: none;"> Fireworks festival starting in... </p>

          <p id="periodLeft" style="display: none;"> <span class="number" id="days"> 2 </span> days <span class="number" id="hours"> 3 </span> hours <span class="number" id="minutes"> 4 </span> minutes <span class="number" id="seconds"> 5 </span> seconds </p> 
        </main>
        
        
      </div>

    </div>

    <!-- JS for clock -->
    <script>
        var mDate;
        var countDownDate;
        var now;
        function setAlarm() {
        // Set the date we're counting down to
        mDate =  document.getElementById("myDate").value;
        countDownDate = new Date(mDate).getTime();
        
        // Update the count down every 1 second
        var x = setInterval(function() {
        
          // Get today's date and time
          now = new Date().getTime();
        
          // Find the distance between now and the count down date
          var distance = countDownDate - now;
        
          //if distance is not negative
        if(distance >= 0) {
          document.getElementById("content").style.backgroundImage = 'none';
          // Time calculations for days, hours, minutes and seconds
          var days = Math.floor(distance / (1000 * 60 * 60 * 24));
          var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        
          // Display the time remaining for the festival
          var time  = days + "d " + hours + "h "+ minutes + "m " + seconds + "s ";
          document.getElementById("start").style.display = "block" ;
          document.getElementById("days").innerHTML = (days < 10) ? ("0" + days) : days;
          document.getElementById("hours").innerHTML = (hours < 10) ? ("0" + hours) : hours;
          document.getElementById("minutes").innerHTML = (minutes < 10) ? ("0" + minutes) : minutes;
          document.getElementById("seconds").innerHTML = (seconds < 10) ? ("0" + seconds) : seconds;
          document.getElementById("periodLeft").style.display = "block";

        }
          // If the count down is finished, write some text
          if (distance < 0) {
            clearInterval(x);
            document.getElementById("start").style.display = "none" ;
            document.getElementById("periodLeft").style.display = "none";
            document.getElementById("content").style.backgroundImage = "url('celeb.gif')"; 
            //document.getElementById("content").style.backgroundRepeat = "no-repeat";
            
          }
        }, 1000);

        }
        </script>


</body>

</html> 